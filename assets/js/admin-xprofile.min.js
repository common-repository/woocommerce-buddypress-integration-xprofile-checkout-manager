;jQuery(document).ready(function(e){e('#wc4bp-option-form').submit(function(t){e('.wc4bp-conditional-visibility-container').each(function(){var n=e(this),i=n.find('.field.cv-products'),o=i.find('.select2-selection__rendered'),s=o.find('.select2-selection__choice');if(s.length===0){var r=i.find('.wc-search').attr('name');i.append('<input type="hidden" name="'+r+'" value="deleteProduct" />')};var t=n.find('.field.cv-categories'),c=t.find('.select2-selection__rendered'),d=c.find('.select2-selection__choice');if(d.length===0){var a=t.find('.wc-search').attr('name');t.append('<input type="hidden" name="'+a+'" value="deleteCategory" />')}});return!0});e('.wc4bp-conditional-visibility-container').each(function(){var t=e(this);t.find('.cv-enabled input').each(function(){var i=e(this);i.prop('checked',i.data('checked'));i.change(function(){if(e(this).is(':checked')){t.find('.field.cv-products, .field.cv-categories').removeClass('disabled')}
else{t.find('.field.cv-products, .field.cv-categories').addClass('disabled')}})});t.find('.wc-search').each(function(){var t=e(this),a=t.data('nonce'),i=t.data('action'),n=wc4bp_admin_xprofile_params.ajax_url;t.val(t.data('value'));t.select2({ajax:{url:n,dataType:'json',delay:250,data:function(e){return{term:e.term,action:i,security:t.data('nonce')}},processResults:function(t){var i=[];if(t){e.each(t,function(e,t){i.push({id:e,text:t})})};return{results:i}},cache:!0},width:'250px',escapeMarkup:function(e){return e},formatSelection:function(e){return e.text},initSelection:function(t,n){var c=[],i=e.parseJSON(t.attr('data-selected')),d=JSON.stringify(i);for(var a in i){c.push({id:i[a],text:i[a]})};return n(c)},minimumInputLength:3,multiple:!0,placeholder:t.data('placeholder')})})})});